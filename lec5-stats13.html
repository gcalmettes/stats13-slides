<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, user-scalable=no">

  <title>
    Lecture 5 - Stats 13
  </title>
  <link rel="stylesheet" href="assets/reveal.js-master/css/reveal.css" />
  <!-- beige, black, blood, league, moon, night, serif, simple, sky, solarized, white -->
  <link rel="stylesheet" href="assets/reveal.js-master/css/theme/black.css" id="theme"/>
  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="assets/reveal.js-master/lib/css/zenburn.css">
  <!-- Custom css -->
  <link rel="stylesheet" href="assets/plugins/Font-Awesome-master/css/font-awesome.min.css" />
  <link rel="stylesheet" href="assets/css/custom-gc.css" />
  <link rel="stylesheet" href="assets/plugins/reveal.js-plugins-master/menu/menu.css">

</head>

<body>
  <div class="reveal">
    <!-- ====================== CUSTOM HEADERs & FOOTERs ====================== -->
  	<header id="myHeadRight" style="position: absolute; top: 0; right:0; z-index:500; font-size: small;">
  	</header>
  	<header id="myHeadLeft" style="position: absolute; top: 0; left:0; z-index:501; fon-size: small;">
  	</header>
  	<footer id="myFootRight" style="position: absolute; bottom:0; right:0; z-index:502; font-size: small;">
  	</footer>
  	<footer id="myFootLeft" style="position: absolute; bottom:0; left:0; z-index:503;font-size: small;">
  	</footer>
  	<!-- ====================== CUSTOM HEADERs & FOOTERs ====================== -->

<div class="slides">


<section class="title-slide" data-background='assets/img/shared/bckg5.jpg' data-state="alpha-04">
  <div class="content-box framed border-muted">
    <h2>Stats 13</h2>
    <h1 style="color: #FFFFFF">Lecture 5</h1>
  </div>
    <h3 style="color: #FFFFFF; text-align: center;">
      Making inferences about
      <br> the population mean
    </h3>
    <div class="col-90">
      <p class="smaller push-right">Guillaume Calmettes</p>
  </div>
</section>

<section data-transition="slide-in">
  <h3>Last time</h3>
  <p class="sided border-info">
    Null Hypothesis Significance Testing (NHST) for
    one proportion<br>
    - Resampling p-value<br>
    - One proportion z-test (p-value)<br>
  <p class="sided border-danger">
  Limits of the p-value <br>
  Lots of factors can influence p-value (sample size,
  one-sided/two-sided considerations, etc...)</p>
  <p class="sided border-warning">
  Confidence Intervals (CI) as a more informative alternative of the p-value (95%) <br>
  It can be obtained directly using the characteristics of the data sample we
  have (one way: Bootstrap, the data is our population)</p>
</section>

<section data-transition="slide-out">
  <h3>Last time</h3>
  <p style="margin-top: 0; font-size: 0.6em;">
    Two ways at looking at the same thing.
  </p>
  <div class="row">
    <div class="col-85">
      <svg width="100%" viewBox="0 0 432 288" style="margin-top: 0;">
        <use xlink:href="assets/img/lec/nhst-vs-ci.svg#axes_4"
          class="fragment current-visible" data-fragment-index=2></use>
        <use xlink:href="assets/img/lec/nhst-vs-ci.svg#axes_3"
          class="fragment" data-fragment-index=3></use>
        <use xlink:href="assets/img/lec/nhst-vs-ci.svg#axes_2"
          class="fragment current-visible" data-fragment-index=1></use>
        <use xlink:href="assets/img/lec/nhst-vs-ci.svg#axes_5"
          class="fragment" data-fragment-index=4></use>
        <use xlink:href="assets/img/lec/nhst-vs-ci.svg#axes_6"
          class="fragment" data-fragment-index=5></use>
        <use xlink:href="assets/img/lec/nhst-vs-ci.svg#axes_1"></use>
      </svg>
    </div>
    <div class="col-15">
      <p>
      <span class="info">NHST</span><br>
      <span class="warning">95% CIs</span>
      </p>
    </div>
  </div>
  <aside class="notes">
    But it means that if we are going to use the sample
    to infer about the population, we need to be sure 
    our sample is representative.
  </aside>
</section>

<section>
  <h3>From sample to population</h3>
  <p class="sided">
    One of the most important ideas in statistics is that we can learn a lot 
    about a large group (called a <span class="warning">population</span>) by studying
    a small piece of it (called a <span class="info">sample</span>).
  </p> 
  <p class="sided border-danger">
    <span class="danger">Statistical inference</span> is the process of using data from a sample to
    gain information about the population.
    If we are using the sample to infer about the 
    population, we have to take precautions to ensure
    our sample is representative of our population.
  </p>
  <p class="quoted">
    How can we <span class="info">obtain a statistic that we trust</span> to be reasonably close to the actual (but unknown to us) value of the parameter?
  </p>
  <p class="success fragment">
    Let's do a little experiment!
  </p>
</section>

<section id="livesamplingwords">
<!-- <section> -->
  <h3>In class activity (sampling words)</h3>
  <p style="margin-top: 0; font-size: 0.65em;">
    In most studies, we do not have access to the entire population and
  can only consider a <span class="danger">sample</span> from this population.</p>
  <div class="row">
    <div class="col-45 sided"> 
      <p class="info">https://goo.gl/cYUbFn</p>
      <p style="font-size: 0.6em;">
        1- Select a sample of <span class="warning">10 representative words</span>
      </p>
      <p style="font-size: 0.6em;">
        2- Record the <span class="warning">number of letters</span> 
        in each of the ten words in your sample
      </p>
      <p style="font-size: 0.6em;">
        3- Calculate the average (mean) number of letters in your ten words. Enter this value in the spreedsheet in the cell assigned to your name 
        (please only fill up the value for your name!)
      </p>
    </div>
    <div class="col-55">
      <div class="row">
        <div class="col-80 right">
          <label>Show population mean</label>
        </div>
        <div class="col-20 left">
          <input type="checkbox" id="checkbox_showmean">
        </div>
      </div>
      <div class="placeholder"></div>
    </div>
  </div>  
</section>

<section data-transition="slide-in">
  <h3>Human judgment is not very good at selecting 
  representative samples from populations</h3>
  <div class="row">
    <div class="col-40">
            <p class="sided" style="font-size: 0.6em; 
  margin-top: 0;">
    The day after the 1948 presidential election, 
    the <span class="em">Chicago Tribune</span> ran the
    headline “Dewey Defeats Truman”.
    However, Harry S Truman defeated Thomas
    E. Dewey to become the 33rd president of the 
    United States. 
  </p>
      <!-- <p>
        <span class="u em">1948 US Presendential Elections</span> <br>
        A triumphant Harry S Truman holds the Chicago
        Tribune published with the incorrect headline
        “Dewey defeats Truman”
      </p> -->
      <p class="quoted fragment">
        What problem could have occured?
      </p>
    </div>
    <div class="col-60">
      <img src="assets/img/lec/DeweyTruman.jpg" class="unbordered flat" width=100%>
    </div>
  </div>
  <aside class="notes">
    The day after the 1948 presidential election, the Chicago Tribune ran the
    headline “Dewey Defeats Truman.” However, Harry S Truman defeated Thomas
    E. Dewey to become the 33rd president of the United States. The newspaper
    went to press before all the results had come in, and the headline was
    based partly on the results of a large telephone poll which showed Dewey
    sweeping Truman.
  </aside>
</section>

<section data-transition="slide-out">
  <h3>The 1948 presidential election</h3>
  <div class="row">
    <div class="col-50">
      <p class="framed border-danger" 
        style="font-size: 0.6em; margin-top: 0;">
        The newspaper went to press before all the results 
        had come in, and the headline was
        based partly on the results of a 
        <span class="danger">large telephone 
        poll</span> which showed Dewey
        sweeping Truman.
      </p>
    </div>
    <div class="col-50">
      <p class="framed border-success" 
        style="font-size: 0.6em; margin-top: 0;">
        But when the dust settled, Truman easily defeated
        Dewey in the Electoral College, by a 
        <span class="success">303 to 189</span>
        margin. Truman also won by a 
        <span class="success">50-45</span> percent 
        popular vote.
      </p>
    </div>
  </div>
  <p style="margin-top: 0; font-size: 0.6em;">
    <span class="u em">
    What is the <span class="warning">sample</span> and what is the <span class="info">population</span>? </span><br>
    <span class="fragment">
      The sample is <span class="highlight-bckg-warning">all the people who participated in 
      the telephone poll</span>. The population is 
      <span class="highlight-bckg-info">all voting
      Americans
    </span>.
    </span>
  </p>
  <p style="margin-top: 0; font-size: 0.6em;">
    <span class="u em">
    What did the pollsters want to infer about the population based on the sample?</span><br>
    <span class="fragment">
      To estimate the percentage of <span class="info">all</span> voting Americans who would vote for each candidate.
    </span>
  </p>
  <p style="margin-top: 0; font-size: 0.6em;">
    <span class="u em">
    Why do you think the telephone poll yielded such inaccurate results?</span> <br>
    <span class="fragment">
      People with telephones in 1948 were <span class="warning">not
      representative of all</span> American voters. <br>
      People with telephones tended to be wealthier
      and prefer Dewey
      while people without phones tended to prefer Truman.
    </span>
  </p>
</section>

<section>
  <h3>Sampling bias</h3>
  <p class="quoted">
    <span class="warning">Sampling bias</span> occurs when the 
    <span class="warning">method of selecting</span> a sample causes
    the <span class="warning">sample to differ from the population</span>
    in
    some relevant way. If sampling bias exists, then we cannot trust
    generalizations from the sample to the population.
  </p>
  <p class="framed border-light">
    To avoid sampling bias, we try to obtain a sample that is 
    <span class="info">representative</span> of the population. 
    A representative sample resembles the population, only in smaller 
    numbers. 
    The more representative a sample is, the more valuable the sample 
    is for <span class="info">making inferences about the population</span>.
  </p>
</section>

<section>
  <h3>Simple random sample</h3>
  <p>
    Since a representative sample is essential for drawing valid inference
    to the population, you are probably wondering how to select such a sample!
    The key is <span class="info">random sampling</span>.
  </p>
  <p class="quoted">
    A <span class="warning">simple random sample</span> gives every
    observational unit in the population the <span class="u info">same 
    chance of being selected</span>. <br>
    Taking a simple random sample avoids sampling bias.
  </p>
  <div class="row fragment" style="margin-top: 1em;">
    <div class="col-20">
     <i class= "fa fa-exclamation-triangle fa-3x danger"></i>
    </div>
    <div class="col-80">
      <p>
        Although the principle of simple random 
        sampling is probably clear,
        it is <span class="danger">by no means simple to implement</span>.
      </p>
    </div>
  </div>  
  
</section>

<section>
  <h3>Randomness</h3>
  <p>
    The key to obtaining a representative sample is using some type of
    <span class="warning">random mechanism</span> to select the 
    observational units from the population rather than relying on 
    <span class="info">convenience sample</span> or any type of human
    judgment.
  </p>
  <p>
    => We must use a formal random sampling method such as technology.
    <br>
    The first step is to obtain a <span class="danger">sampling frame</span>
    where each observational unit of the population can be assigned a number. 
  </p>
</section>

<section id="samplingframe" data-transition="slide-in">
  <h3>Sampling frame</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-100">
      <div class="placeholder"></div>
    </div>
  </div>
</section>

<section id="samplingframe" data-transition="slide-out">
  <h3>Sampling frame</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-100">
      <img src="assets/img/lec/sampling-words-samples.svg"
      class="unbordered flat">
    </div>
  </div>
</section>

<section>
  <h3>Three important points about random sampling</h3>
  <p class="sided" style="font-size: 0.65em;">
    One still gets the <span class="warning">occasional "unlucky" sample</span>
    whose results are not close to the population 
    even with large sample sizes.
  </p>
  <p class="sided fragment" style="font-size: 0.65em;">
    The <span class="warning">sample size means little if the sampling method
    is not random</span>. <br>

    In 1936, the <span class="em">Literary Digest</span> magazine had 
    a huge sample of 2.4 million people, yet their predictions for the
    Presidential election did not come close to the truth about the 
    population.
  </p>
  <p class="sided fragment" style="font-size: 0.65em;">
    Although the role of sample size is crucial 
    in assessing how close the
    sample results will be to the population results,
    the size of the population
    does not affect this. As long as the population 
    is large relative
    to the sample size (at least 10 times as large),
    <span class="warning">the precision
    of a sample statistic depends on the sample size
    but not on the population size</span>.
  </p>
</section>

<section data-menu-title="Sampling distribution (interactive)" id="samplingdist">
  <h3>The sampling distribution</h3>
  <div class="row">
    <div class="col-22 right">
      <label>Population size: 
    </div>
    <div class="col-10">
      <span id="populationsize-value" style="color: #5bc0de;">500</span></label>
    </div>
    <div class="col-18">
      <input type="range" min="500" max="1000" step="1" value="500"
       id="populationsize" style="width: 15em;">
    </div>
    <div class="col-20 right">
      <label>Center: 
    </div>
    <div class="col-8">
      <span id="proportion-value" style="color: #d9534f;">0.5</span></label>
    </div>
    <div class="col-18">
      <input type="range" min="0" max="1" step="0.01" value="0.5"
      id="proportion" style="width: 15em;">
    </div>
  </div>
  <div class="row">
    <div class="col-22 right">
      <label>Sample size: 
    </div>
    <div class="col-10">
      <span id="samplesize-value" style="color: #f0ad4e;">25</span></label>
    </div>
    <div class="col-18">
      <input type="range" min="1" max="450" step="1" value="25"
      id="samplesize" style="width: 15em;">
    </div>
    <div class="col-22 right">
      <label># of samples: 
    </div>
    <div class="col-8">
      <span id="nsample-value" style="color: #f0ad4e;">100</span></label>
    </div>
    <div class="col-18">
      <input type="range" min="1" max="1000" step="1" value="100"
      id="nsample" style="width: 15em;">
    </div>
  </div>
  <div class="placeholder"></div>
</section>

<section>
  <h3>Realities of random sampling</h3>
  <p>
    <span class="warning">While a random sample is ideal, often it may not be achievable</span>:
    <br>
    <span style="margin-left: 0.9em;">
      - a list of the entire population may not exist
    </span>
    <br>
    <span style="margin-left: 0.9em;">
      - it may be impossible to contact some members of the population
    </span>
    <br>
    <span style="margin-left: 0.9em;">
      - or it may be too expensive or time consuming to do so
    </span>
    </p>
    <p>
    Often we must <span class="u">make do with whatever sample is convenient</span>. The study can still be worth doing, but <span class="info">we have to be very careful when drawing inferences to the population</span> and should at least try to avoid obvious sampling bias as much as possible.
  </p>
  <p class="framed border-danger fragment">
    When it is difficult to take a random sample from the population of interest, we may have to 
    <span class="danger">redefine the population to which we 
    generalize</span>.
  </p>
</section>

<section data-transition="slide-in">
  <h3>Other sources of bias</h3>
  <p class="sided border-warning" style="margin-top: 0;">
    <span class="warning">Bias</span> exists when the method of collecting data causes the sample data to inaccurately re ect the population.
  </p> 
  <div class="row fragment" style="margin-top: 0;">
    <div class="col-10">
     <i class= "fa fa-2x fa-exclamation-triangle warning"></i>
    </div>
    <div class="col-90">
      <p style="margin-top: 0em; font-size: 0.6em">
        Bias can occur when <span class="warning">people we have selected to be in our sample choose not to
        participate</span>.<br>
        If the people who choose to respond would answer differently than the people who choose not to respond, results will be biased.
      </p>
    </div>
  </div> 
  <div class="row fragment" style="margin-top: 0;">
    <div class="col-10">
     <i class= "fa fa-2x fa-exclamation-triangle warning"></i>
    </div>
    <div class="col-90">
      <p style="margin-top: 0em; font-size: 0.6em">
        The <span class="warning">way questions are worded</span> can also bias the results. 
        <br>
        <span class="muted">In 1941 Daniel Rugg asked people the same question in two different ways.</span>
        <br>
        <span class="fragment">
        “<span class="em info">Do you think that the United States should allow public speeches against democracy?</span>“
        => 21% said the speeches should be allowed.
        </span>
        <br>
        <span class="fragment">
        “<span class="em info">Do you think that the United States should forbid public speeches against democracy?</span>“
        => 39% said the speeches should not be forbidden.
        </span>
        <br>
        <span class="fragment">
        => Merely changing the wording of the question nearly doubled the percentage of people in favor of allowing (not forbidding) public speeches against democracy.
        </span>
      </p>
    </div>
  </div>  
</section>

<section data-transition="slide-out">
  <h3>Other sources of bias</h3>
  <p class="sided border-warning">
    <span class="warning">Bias</span> exists when the method of collecting data causes the sample data to inaccurately re ect the population.
  </p> 
  <p class="framed border-info">
    The most important message is to <span class="info">always think critically about the way data are collected</span> and to recognize that not all methods of data collection lead to valid inferences. Recognizing sources of bias is often simply common sense.
  </p>
</section>

<section data-transition="slide-in fade-out">
  <h3>Studying a quantitative variable</h3>
  <p>
    UCLA salaries (full time employee, 2014) <br>Population data (n=32578)
  </p>
  <svg width="100%" viewBox="0 0 720 288" style="margin-top: 0;">
    <use xlink:href="assets/img/lec/salaries-ucla2014-all.svg#axes_1"></use>
  </svg>
</section>

<section data-transition="slide-out">
  <h3>Studying a quantitative variable</h3>
  <p>
    UCLA salaries (full time employee, 2014) <br>Population data (n=32578)
  </p>
  <svg width="100%" viewBox="0 0 720 288" style="margin-top: 0;">
    <use xlink:href="assets/img/lec/salaries-ucla2014-zoom.svg#axes_1"></use>
    <use class="fragment" xlink:href="assets/img/lec/salaries-ucla2014-zoom.svg#axes_2"></use>
  </svg>
</section>

<section>
  <h3>UCLA salaries (2014) - sample</h3>
  <p class="sided" style="margin-top: 0;">
    We've seen that usually, we do not have the luxury of 
    getting access to the full true
    population, and we have to rely on a sample (from this 
    population) to make inferences
    about the characteristics of the full population.
  </p>
  <div class="row">
    <div class="col-40">
      <p>
        Let's consider that we have obtained a random sample of 100 UCLA salaries.
      </p>
      <p class="fragment framed border-danger" data-fragment-index=2>
        We want to know how UCLA salaries in 2014 compared to the National
        average.
      </p>
    </div>
    <div class="col-60">
      <svg width="100%" viewBox="0 0 432 288" style="margin-top: 0;">
        <use xlink:href="assets/img/lec/salaries-ucla2014-sample.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-sample.svg#axes_2"
        class="fragment" data-fragment-index=1></use>
      </svg>
    </div>
  </div>
</section>

<section data-state="showFooterRight" data-footer="Source - <a href='https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-pinc/pinc-01.2014.html' target='_blank'>2014 US Census Bureau - datasheet PINC-01</a>">
  <h3>US Census Bureau data</h3>
  <div class="row">
    <div class="col-50">
      <p>
      <span class="u em">Year:</span> 2014 <br>
      <span class="u em">Population:</span> 15 years old and over, 
      all races, both sexes
      </p>
    </div>
    <div class="col-50">
      <table style="font-size: 1.5em;">
        <tbody>
          <tr>
            <td>Mean</td>
            <td>$62,931</td>
          </tr>
          <tr>
            <td>Median</td>
            <td>$46,480</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>  
  <p class="sided border-warning fragment">
    Contrary to what we have done with categorical (proportion) data,
    in the case of a quantitative data sample, there is not
    really any probabilistic model we can simulate to test 
    our data against. We just know the mean & median
    values we want to compared our data to.
  </p>
  <p class="quoted fragment">
    Would a theoretical model be good anyways?
  </p>
</section>

<section data-transition="slide-in fade-out">
  <h3>Bootstrap confidence intervals for a population mean</h3>
  <div class="row">
    <div class="col-40">
      <p class="sided border-warning">
        => Making inferences using the data sample we have
        is the more robust approach without needing to 
        make any assumption.
      </p>
    </div>
    <div class="col-60">
      <img src="assets/img/lec/distribution-sample-inference.svg"
      class="unbordered flat" width="100%">
    </div>
  </div>
  <p class="framed border-warning fragment" style="margin-top: 0;">
    <span class="warning">Repetitively drawing bootstrap
    samples</span> from the data sample 
    to compute the 
    <span class="warning">95% confidence intervals</span> of the 
    population mean ($\mu$)
    provides a simple
    and robust way to estimate the variability
    of $\bar{x}$ and approximate
    the sampling distribution of $\mu$ using just the
    information in that one sample.
  </p>
</section>

<section data-transition="fade">
  <h3>Bootstrap confidence intervals for a population mean</h3>
    <div class="row" style="margin-top: -2%;">
    <div class="col-40">
      <p class="sided border-info" style="font-size: 0.65em;">
        <span class="u">Sample statistic:</span> <br>
        <span class="info">$\bar{x}$</span> (sample mean)
      </p>
      <p class="sided border-danger fragment"
      data-fragment-index=1 style="font-size: 0.65em;">
        <span class="u">95% CI:</span> <br>
        <span class="danger">central $95\%$</span> of the bootstrap 
        $\bar{x}$ distribution
      </p>
    </div>
    <div class="col-60">
      <svg width="100%" viewBox="0 0 433 204" style="margin-top: 0; margin-bottom: 0;">
        <use xlink:href="assets/img/lec/bootstrap-distribution-generation-process.svg#bootstrap"></use>
        <use xlink:href="assets/img/lec/bootstrap-distribution-generation-process.svg#ci"
        class="fragment" data-fragment-index=1></use>
      </svg>
    </div>
  </div>
  <div class="row">
    <div class="col-50">
      <ol style="font-size: 0.6em;" class="push-left">
        <li><span class="warning">Generate bootstrap samples</span>
          by sampling <span class="u">with replacement</span> from
          the original sample, using the
          <span class="warning">same sample size</span></li>
        <li><span class="info">Compute the statistic of interest</span>
          ("bootstrap statistic") 
          for each of the bootstrap samples</li>
      </ol>
    </div>
    <div class="col-50">
      <ol style="font-size: 0.6em;" class="push-left" start=3>
        <li>Collect the statistics for many bootstrap samples 
          to create a
          <span class="info">bootstrap distribution</span></li>
        <li class="fragment" data-fragment-index=1>
          Rank the bootstrap distribution statistics and take
          the values at <span class="danger">positions
          <span class="em">alpha</span></span>
          (lower ci limit) and <br>
          <span class="danger"><span class="em">(1-alpha)</span></span>
          (higher ci limit)</li>
      </ol>
    </div>
  </div>
</section>

<section data-transition="fade" id="sampletable">
  <h3>Bootstrap confidence intervals for a population mean</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-40">
      <div class="placeholder"></div>
    </div>
    <div class="col-60">
      <div class="row" style="margin-top: 0;">
        <div class="col-5">
          <p></p>
        </div>
        <div class="col-30">
          <p style="margin-top: 0; font-size: 0.5em;">
            Sample <br> UCLA Salaries <br> (n=100)
          </p>
        </div>
      </div>
  </div>
</section>

<section data-transition="fade" id="bootstrap">
  <h3>Bootstrap confidence intervals for a population mean</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-40">
      <div class="placeholder"></div>
      <p style="margin-top: -4%; font-size: 0.5em;">
        <span class="u em">Each bootstrap sample:</span> <br>
        n=100, drawing WITH replacement <br>
        from original sample <br>
        Statistic calculated: mean ($\bar{x}$)
      </p>
    </div>
    <div class="col-60">
      <div class="row" style="margin-top: 0;">
        <div class="col-5">
          <p></p>
        </div>
        <div class="col-30">
          <p style="margin-top: 0; font-size: 0.5em;">
            Sample <br> UCLA Salaries <br> (n=100)
          </p>
        </div>
        <div class="col-30">
          <p style="font-size: 0.5em; margin-top: 0;">
            <span class="danger">$1$ selection</span><br>
            <span class="muted">$2$ selections</span><br>
            <span class="warning">$\geq3$ selections</span>
          </p>
        </div> 
        <div class="col-7">
          <svg xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 10 30" width=100%>
            <circle cx="5" cy="5" r="4" style="fill:#d9534f"/>
            <circle cx="5" cy="15" r="4" style="fill:#636c72"/>
            <circle cx="5" cy="25" r="4" style="fill:#f0ad4e"/>
          </svg>
        </div>  
      </div>
      <svg width="100%" viewBox="20 70 412 220" style="margin-top: 2%;">
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_2"
        class="fragment" data-fragment-index=1></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_3"
        class="fragment" data-fragment-index=2></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_4"
        class="fragment" data-fragment-index=3></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_5"
        class="fragment" data-fragment-index=4></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_6"
        class="fragment" data-fragment-index=5></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_7"
        class="fragment" data-fragment-index=6></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps.svg#axes_8"
        class="fragment" data-fragment-index=7></use>
      </svg>
    </div>
  </div>
</section>

<section data-transition="fade-in slide-out">
  <h3>Bootstrap confidence intervals for a population mean</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-40">
      <p style="font-size: 0.6em;">
        <span class="u em">Bootstrap distribution:</span><br>
         10000 bootstrap $\bar{x}$
      </p>
      <p class="sided fragment" data-fragment-index=2>
        <span class="em u">95% CIs:</span><br>
        [69 280, 94 210]
      </p>
      <p class="sided fragment border-warning" data-fragment-index=5>
        <span class="em u">Inference:</span><br>
        UCLA mean salary > US mean salary
      </p>
    </div>
    <div class="col-60">
      <svg width="100%" viewBox="0 -25 432 313" style="margin-top: 2%;">
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_2"
        class="fragment" data-fragment-index=1></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_3"
        class="fragment" data-fragment-index=2></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_4"
        class="fragment" data-fragment-index=4></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_8"
        class="fragment" data-fragment-index=3></use>
      </svg>
    </div>
  </div>
</section>

<section>
  <h3>Theory: Standardized statistic</h3>
  <p style="margin-top: 0; font-size: 0.65em;" class="sided">
    In a similar way to the calculation of a $z$ statistic for a
    proportion, it is possible to measure a 
    <span class="warning">standardized statistic for a
    sample mean</span> (quantitative data), by
    measuring <span class="u" style="text-decoration-color: #f0ad4e;-webkit-text-decoration-color: #f0ad4e;">how far it is from the mean of 
    a hypothesized population mean in term of 
    <span class="danger">standard deviation of the sampling distribution of the mean</span></span>. <br>
  </p>
  <div class="row">
    <div class="col-60">
      <p style="margin-top: 3em;" class="fragment" data-fragment-index=1>
      $t=\frac{\textrm{sample mean-}\fragindex{1}{\fraglight{highlight-blue-gc}{\textrm{hypothesized population mean}}}}{\fragindex{3}{\fraglight{highlight-red-gc}{\sigma\textrm{ of
      sampling distribution of the mean}}}}$
      <span class="fragment" data-fragment-index=2></span>
      <span class="fragment" data-fragment-index=4</span>
      </p>
    </div>
    <div class="col-40">
      <p style="margin-top: 0.3em; font-size: 0.65em;" class="fragment sided border-info" data-fragment-index=3>
        Hypothesized mean: <br>
        <span style="margin-left: 1.2em;">$\mu = \textrm{value to test}$</span>
      </p>
      <p style="margin-top: 0.3em; font-size: 0.65em;" class="fragment sided border-danger" data-fragment-index=5>
        $\sigma$ of the sampling distribution of the mean (<span class="danger">Standard Error</span>)
        <br>
        <span style="margin-left: 1.2em;">$SE=\frac{\sigma}{\sqrt{n}}$</span>
      </p>
    </div>
  </div>
</section>

<section>
  <h3>Theory: central limit theorem</h3>
  <p class="sided" style="font-size: 0.65em; margin-top: 0;">
    <span class="u em info">Central limit theorem for sample means:</span><br>
    If the sample size $n$ is <span class="u">large</span>, the distribution 
    of sample means (=sampling distribution) from a population
    with mean $\mu$ and standard deviation $\sigma$ is approximately normally distributed
    with mean <span class="warning">$\mu$</span> and standard deviation <span class="warning">$\frac{\sigma}{\sqrt{n}}$</span> (=standard error of the sample means).
  </p>
  <div class="row">
    <div class="col-50">
      <svg width="100%" viewBox="40 0 390 288" style="margin-top: 0;">
        <use xlink:href="assets/img/lec/central-limit-theorem-one-mean.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/central-limit-theorem-one-mean.svg#axes_2"
        class="fragment" data-fragment-index=1></use>
    </div>
    <div class="col-50">
      <p style="font-size: 0.6em;" class="framed border-danger fragment" data-fragment-index=2>
      However in practice we don't usually know the standard deviation $\sigma$
      for the population of interest, and we usually have only the information of a 
      sample in the population. <br>
      We can just substitute in <span class="warning">$s$</span>, the <span class="warning">standard deviation of the sample</span>, when estimating
      the standard error of the sample means.
      <span class="info">$SE=\frac{s}{\sqrt{n}}$</span>
      </p> 
    </div>
  </div>
</section>


<section data-transition="slide-in">
  <h3>Theory: Standardized statistic (t)</h3>
  <p style="margin-top: 0; font-size: 0.65em;" class="sided">
    When we use the $SE$ based on $\frac{s}{\sqrt{n}}$ to standardize the sample mean,
    the distribution is no longer the standard normal, but rather the 
    <span class="info">$t$-distribution</span>. The standardized statistic 
    is then commonly noted <span class="info">$t$</span>.
  </p>
  <div class="row">
    <div class="col-50">
      <p style="margin-top: 0; font-size: 0.55em;">
        The shape of a $t$-distribution looks a lot like a normal distribution but it is a bit more
        spread out than a normal distribution (more observations in the "tails", less in the middle).
      </p>
      <p class="fragment" style="margin-top: 0; font-size: 0.55em;">
        A key fact about the $t$-distribution is that it depends on the size of the sample ($n$).
        The sample size is reflected in a parameter called the 
        <span class="success">degreees of freedom ($df$)</span> for the 
        $t$-distribution.
        When working with $\bar{x}$ for a sample of size $n$, 
        we use a $t$-distribution with $df=n-1$.
      </p>
    </div>
    <div class="col-50">
      <img src="assets/img/lec/distribution-t-vs-z.svg" 
        class="unbordered flat"
       width=100% style="margin-bottom: 0;">
    </div>
  </div>
</section>

<section data-transition="slide-out">
  <h3>Theory: One-sample t-test</h3>
  <div class="row">
    <div class="col-50">
      <p class="sided" style="font-size: 0.6em;">
        <span class="u em muted">Salary data</span> <br>
        US average ($\mu_0$)<br>
          <span style="margin-left: 0.8em;">$\$62931$</span>
        <br>
        UCLA sample ($n=100$): <br>
        <span style="margin-left: 0.8em;">
         $\bar{x}=\$80919$ / $s=\$63956$</span>
      </p>
      <svg width="100%" viewBox="0 0 432 288" class="fragment" data-fragment-index=3>
        <use xlink:href="assets/img/lec/salaries-ucla2014-ttest.svg#axes_1"></use>
      </svg>
    </div>
    <div class="col-50">
      <svg width="100%" viewBox="0 0 432 288" data-fragment-index=2>
        <use xlink:href="assets/img/lec/salaries-ucla2014-ttest-hypothesized-dist.svg#axes_1"></use>
        <use class="fragment" data-fragment-index=1
        xlink:href="assets/img/lec/salaries-ucla2014-ttest-hypothesized-dist.svg#axes_2"></use>
      </svg>
      <p class="fragment" data-fragment-index=1>
        $t$-statistic: <span class="warning">$t=\frac{\bar{x}-\mu_0}{\frac{s}{\sqrt{n}}}$</span>
      </p>
      <p style="margin-top: 1em;" class="fragment" data-fragment-index=2>
        $t=\frac{80919-62931}{\frac{63956}{\sqrt{100}}}$
      </p>
      <p class="fragment" data-fragment-index=2>
        $t=2.81$
      </p>
    </div>
  </div>
</section>

<section>
  <h3>Theory: 95% confidence intervals</h3>
  <p>
    Beacause the theoretical sampling distribution of the
    mean follow a $t\textrm{-distribution}$ that behaves more or
    less like a normal distribution, we expect 
    <span class="info">$95\%$
    of the sample means to lie 
    within $2$ standard errors on each side of the 
    true mean</span> (more correct number 
    <span class="info">$1.96$</span>).
  </p>
  <div class="row">
    <div class="col-40">
      <p style="font-size: 0.65em;">
      The theoretical $95\%$ confidence intervals
      of the population mean can then be approximated using the sample mean ($\bar{x}$) and the lower and upper limits below: <br>
      - lower limit: <span class="warning">$\bar{x}-1.96\times SE$</span>
      <br>
      - upper limit: <span class="warning">$\bar{x}+1.96\times SE$</span>
      </p>
    </div>
    <div class="col-60">
      <img src="assets/img/lec/central-limit-theorem-one-mean-ci95.svg"
      class="unbordered flat" width=100%>
    </div>
  </div>  
</section>


<section>
  <h3>Theory vs resampling</h3>
  <div class="row" style="margin-top: -2%">
    <div class="col-80">
      <svg width="100%" viewBox="0 0 720 288" style="margin-top: 0;">
        <use xlink:href="assets/img/lec/salaries-ucla2014-true-sampling-distribution.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-true-sampling-distribution.svg#axes_2"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-true-sampling-distribution.svg#axes_3"></use>
      </svg>
    </div>
  </div>
  <div class="row">
    <div class="col-60">
      <p style="font-size: 0.55em;" class="sided border-warning fragment" data-fragment-index=0>
        <span class="em u warning">Validity condition for a one-sample $t$-test</span>
        The quantitative variable should have a symmetric distribution, or should have
        at least 20 observations and the sample ditribution should not be strongly 
        skewed. If the sample size is small and the data are heavily skewed or contain outliers
        the $t$-distribution should not be used.
      </p>
    </div>
    <div class="col-40">
      <svg width="100%" viewBox="30 0 390 283" style="margin-top: 2%;" class="fragment"
        data-fragment-index=0>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_2"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_3"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_4"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_5"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_6"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-ttest.svg#axes_8"></use>
      </svg>
    </div>
  </div>
</section>

<section data-transition="slide-in">
  <h3>What about the median?</h3>
  <p class="fragment sided border-danger">
    The median is a procedure, and cannot be described 
    with an equation.
    <br>
    <span class="danger">WE CANNOT STUDY THE MEDIAN USING A THEORETICAL APPROACH</span>
  </p>
  <p class="fragment sided border-warning">
    We can easily calculate the median of all
    of our bootstrap samples.
    <br>
    <span class="warning">A RESAMPLING APPROACH CAN BE USED TO STUDY THE MEDIAN!</span>
  </p>
</section>

<section data-transition="fade">
  <h3>What about the median?</h3>
    <div class="row" style="margin-top: -2%;">
    <div class="col-40">
      <p class="sided border-info" style="font-size: 0.65em;">
        <span class="u">Sample statistic:</span> <br>
        <span class="info">$m$</span> (sample median)
      </p>
      <p class="sided border-danger"
      data-fragment-index=1 style="font-size: 0.65em;">
        <span class="u">95% CI:</span> <br>
        <span class="danger">central $95\%$</span> of the bootstrap 
        $m$ distribution
      </p>
    </div>
    <div class="col-60">
      <svg width="100%" viewBox="0 0 433 204" style="margin-top: 0; margin-bottom: 0;">
        <use xlink:href="assets/img/lec/bootstrap-distribution-generation-process.svg#bootstrap"></use>
        <use xlink:href="assets/img/lec/bootstrap-distribution-generation-process.svg#ci"></use>
      </svg>
    </div>
  </div>
  <div class="row">
    <div class="col-50">
      <ol style="font-size: 0.6em;" class="push-left">
        <li><span class="warning">Generate bootstrap samples</span>
          by sampling <span class="u">with replacement</span> from
          the original sample, using the
          <span class="warning">same sample size</span></li>
        <li><span class="info">Compute the statistic of interest</span>
          ("bootstrap statistic") 
          for each of the bootstrap samples</li>
      </ol>
    </div>
    <div class="col-50">
      <ol style="font-size: 0.6em;" class="push-left" start=3>
        <li>Collect the statistics for many bootstrap samples 
          to create a
          <span class="info">bootstrap distribution</span></li>
        <li>
          Rank the bootstrap distribution statistics and take
          the values at <span class="danger">positions
          <span class="em">alpha</span></span>
          (lower ci limit) and <br>
          <span class="danger"><span class="em">(1-alpha)</span></span>
          (higher ci limit)</li>
      </ol>
    </div>
  </div>
</section>

<section data-transition="fade" id="bootstrap2">
  <h3>What about the median?</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-40">
      <div class="placeholder"></div>
      <p style="margin-top: 0; font-size: 0.5em;">
        <span class="u em">Each bootstrap sample:</span> <br>
        n=100, drawing WITH replacement <br>
        from original sample <br>
        Statistic calculated: median ($m$)
      </p>
    </div>
    <div class="col-60">
      <div class="row" style="margin-top: 0;">
        <div class="col-5">
          <p></p>
        </div>
        <div class="col-30">
          <p style="margin-top: 0; font-size: 0.5em;">
            Sample <br> UCLA Salaries <br> (n=100)
          </p>
        </div>
        <div class="col-30">
          <p style="font-size: 0.5em; margin-top: 0;">
            <span class="danger">$1$ selection</span><br>
            <span class="muted">$2$ selections</span><br>
            <span class="warning">$\geq3$ selections</span>
          </p>
        </div> 
        <div class="col-7">
          <svg xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 10 30" width=100%>
            <circle cx="5" cy="5" r="4" style="fill:#d9534f"/>
            <circle cx="5" cy="15" r="4" style="fill:#636c72"/>
            <circle cx="5" cy="25" r="4" style="fill:#f0ad4e"/>
          </svg>
        </div>  
      </div>
      <svg width="100%" viewBox="20 70 412 220" style="margin-top: 2%;">
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps-median.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps-median.svg#axes_2"
        class="fragment" data-fragment-index=1></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-bootstrap-steps-median.svg#axes_3"
        class="fragment" data-fragment-index=2></use>
      </svg>
    </div>
  </div>
</section>

<section data-transition="fade-in slide-out">
  <h3>What about the median?</h3>
  <div class="row" style="margin-top: 0;">
    <div class="col-40">
      <p style="font-size: 0.6em;">
        <span class="u em">Bootstrap distribution:</span><br>
         10000 bootstrap $m$
      </p>
      <p class="sided fragment" data-fragment-index=2>
        <span class="em u">95% CIs:</span><br>
        [52 654, 67 276]
      </p>
      <p class="sided fragment border-warning" data-fragment-index=5>
        <span class="em u">Inference:</span><br>
        UCLA median salary > US median salary
      </p>
    </div>
    <div class="col-60">
      <svg width="100%" viewBox="0 -25 432 313" style="margin-top: 2%;">
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-median.svg#axes_1"></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-median.svg#axes_2"
        class="fragment" data-fragment-index=1></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-median.svg#axes_3"
        class="fragment" data-fragment-index=2></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-median.svg#axes_4"
        class="fragment" data-fragment-index=4></use>
        <use xlink:href="assets/img/lec/salaries-ucla2014-resampling-median.svg#axes_5"
        class="fragment" data-fragment-index=3></use>
      </svg>
    </div>
  </div>
</section>

<section>
  <h3>What about a fancy descriptor?</h3>
    <div class="row" style="margin-top: -2%;">
    <div class="col-40">
      <p class="sided border-info" style="font-size: 0.65em;">
        <span class="u">Sample statistic:</span> <br>
        <span class="info">[fancy descriptor]</span>
      </p>
      <p class="sided border-danger"
      data-fragment-index=1 style="font-size: 0.65em;">
        <span class="u">95% CI:</span> <br>
        <span class="danger">central $95\%$</span> of the bootstrap 
        [francy descriptor] distribution
      </p>
    </div>
    <div class="col-60">
      <svg width="100%" viewBox="0 0 433 204" style="margin-top: 0; margin-bottom: 0;">
        <use xlink:href="assets/img/lec/bootstrap-distribution-generation-process.svg#bootstrap"></use>
        <use xlink:href="assets/img/lec/bootstrap-distribution-generation-process.svg#ci"></use>
      </svg>
    </div>
  </div>
  <div class="row">
    <div class="col-50">
      <ol style="font-size: 0.6em;" class="push-left">
        <li><span class="warning">Generate bootstrap samples</span>
          by sampling <span class="u">with replacement</span> from
          the original sample, using the
          <span class="warning">same sample size</span></li>
        <li><span class="info">Compute the statistic of interest</span>
          ("bootstrap statistic") 
          for each of the bootstrap samples</li>
      </ol>
    </div>
    <div class="col-50">
      <ol style="font-size: 0.6em;" class="push-left" start=3>
        <li>Collect the statistics for many bootstrap samples 
          to create a
          <span class="info">bootstrap distribution</span></li>
        <li>
          Rank the bootstrap distribution statistics and take
          the values at <span class="danger">positions
          <span class="em">alpha</span></span>
          (lower ci limit) and <br>
          <span class="danger"><span class="em">(1-alpha)</span></span>
          (higher ci limit)</li>
      </ol>
    </div>
  </div>
</section>

<section>
  
</section>



<!-- THE END -->
<!-- THE END -->

<!-- <section class='looney-slide' data-state="looney" id="looney" data-menu-title="That's all folks">
<div id="looney_text" style="top:12% !important">
  <div class="looney_char">T</div>
  <div class="looney_char">h</div>
  <div class="looney_char">a</div>
  <div class="looney_char">t</div>
  <div class="looney_char">'</div>
  <div class="looney_char">s</div>
  <div class="looney_char">a</div>
  <div class="looney_char">l</div>
  <div class="looney_char">l</div>
  <div class="looney_char">F</div>
  <div class="looney_char">o</div>
  <div class="looney_char">l</div>
  <div class="looney_char">k</div>
  <div class="looney_char">s</div>
  <div class="looney_char">!</div>
</div>
<div id="looneycircle">
  <i class="looney_i"></i>
  <i class="looney_i"></i>
  <i class="looney_i"></i>
  <i class="looney_i"></i>
  <i class="looney_i"></i>
</div>
</section> -->




<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- - - - - - -    JAVASCRIP LOADING  - - - - - - - - - -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - -->


  <!-- Reveal -->
  <script src="assets/reveal.js-master/lib/js/head.min.js"></script>
  <script src="assets/reveal.js-master/js/reveal.js"></script>
    <!-- Reveal initialization file, including custom event listeners-->
  <script src="assets/js/Reveal-init-gc.js"></script>

  <script src="assets/js/jquery.js"></script>

  <!-- Looney slide -->
  <!-- <script src="assets/looney-slide/looney-reveal.js"></script> -->

  <!-- Google spreadsheet to javascript -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>

  <!-- D3 -->
  <script src="assets/js/d3.v4.min.js"></script>
  <script src="assets/js/d3-selection-multi.v0.4.min.js"></script>

    <!-- D3 in REVEAL -->
  <script src="assets/js/d3-in-reveal.js"></script>
    <!-- The D3 config & animations -->
    <script src="assets/d3-anim/js-graphs/d3-in-reveal-config.js"></script>
    <script src="assets/d3-anim/js-graphs/sampling-distribution.js"></script>
    <script src="assets/d3-anim/js-graphs/live-sampling-words.js"></script>
    <script src="assets/d3-anim/js-graphs/sampling-frame.js"></script>
    <script src="assets/d3-anim/js-graphs/sample_table.js"></script>
    <script src="assets/d3-anim/js-graphs/bootstrap.js"></script>
    

</body>
</html>
